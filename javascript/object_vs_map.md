# Object vs Map

알고리즘 풀이 도중 Key, Value 구조를 통해 최적화가 필요해졌다. 작년까지는 주로 python으로 풀이를 작성했기 때문에 당연히 `{}`를 사용해서 map을 생성했는데 javascript에서는 이를 객체 리터럴로 인식한다.

Javascript에서도 ES6부터 Map을 자료구조로 언어차원에서 제공하기 시작했다.
그렇다면, Javascript에서 사용할 수 있는 key, value형 자료구조가 두가지가 되었는데 둘이 무슨 차이가 있는지 찾아보았다.

## Object

- key는 string이나 Symbol밖에 들어갈 수 없다.
- 값이 순차적으로 적재되지 않는다.
- JSON API를 통해 직렬화가 가능하다.
- props의 수를 바로 알아낼 수 없다.

## Map

- key에는 어떤 원시타입, 자료구조나 들어갈 수 있다.
- 값이 순차적으로 저장된다. (linked hashmap)
- JSON API를 통해 직렬화가 불가능하다.
- .size() 메소드를 통해 현제 props의 크기를 알 수 있다.

물론 Map 또한 Object를 상속 받아 만들어 졌을 것이다. 그렇기 때문에 key, value 구조를 사용해야할 때 쓸 수 있도록 의도적으로 제공하는 자료구조이고, Iteration 기반으로 만들어져 순수한 Object보다 순회나 조회에 대해 편리성을 갖는다.

#### MDN에서 제공하는 Object와 Map의 차이는 다음과 같다.

|                | Map                                                               | Object                                                                                                                                                                                                                                          |
| -------------- | ----------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 의도치 않은 키 | Map은 명시적으로 제공한 키 외에는 어떤 키도 가지지 않습니다.      | Object는 프로토타입을 가지므로 기본 키가 존재할 수 있습니다. 주의하지 않으면 직접 제공한 키와 충돌할 수도 있습니다. <br/> `참고: ES5부터, 프로토타입으로 인한 키 충돌은 Object.create(null)로 해결할 수 있지만, 실제로 쓰이는 경우는 적습니다.` |
| 키 자료형      | Map의 키는 함수, 객체 등을 포함한 모든 값이 가능합니다.           | Object의 키는 반드시 String 또는 Symbol이어야 합니다.                                                                                                                                                                                           |
| 키 순서        | Map의 키는 정렬됩니다. 따라서 Map의 순회는 삽입순으로 이뤄집니다. | Object의 키는 정렬되지 않습니다.<br/>`참고: ECMAScript 201 이후로, 객체도 문자열과 Symbol 키의 생성 순서를 유지합니다. ECMEScript 2015 명세를 준수하는 JavaScript 엔진에서 문자열 키만 가진 객체를 순회하면 삽입 순을 따라갑니다. `             |
| 크기           | Map의 항목 수는 size 속성을 통해 쉽게 알아낼 수 있습니다.         | Object의 항목 수는 직접 알아내야 합니다.                                                                                                                                                                                                        |
| 순회           | Map은 순회 가능하므로, 바로 순회할 수 있습니다.                   | Object를 순회하려면 먼저 모든 키를 알아낸 후, 그 키의 배열을 순회해야 합니다.                                                                                                                                                                   |
| 성능           | 잦은 키-값 쌍의 추가와 제거에서 더 좋은 성능을 보입니다.          | 잦은 키-값 쌍의 추가와 제거를 위한 최적화가 없습니다.                                                                                                                                                                                           |
